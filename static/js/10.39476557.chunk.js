(this.webpackJsonpfoodhub=this.webpackJsonpfoodhub||[]).push([[10],{197:function(e,t,n){e.exports=n.p+"static/media/Smartphone_Frame.e19d4582.svg"},198:function(e,t,n){e.exports=n.p+"static/media/MobileApp.88542799.png"},199:function(e,t,n){e.exports=n.p+"static/media/PreviewLanding.306e31e5.svg"},270:function(e,t,n){"use strict";n.r(t);var r=n(24),i=n(33),a=n(0),o=n.n(a),s=n(34),c=n(86),u=n(87),l=n(16),d=(n(197),n(198),n(199)),h=n.n(d),v=n(18);var f=n(15),m=n(40),g=function(){function e(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:this._onDecodeError.bind(this),i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:e.DEFAULT_CANVAS_SIZE,a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"environment";Object(f.a)(this,e),this.$video=t,this.$canvas=document.createElement("canvas"),this._onDecode=n,this._preferredFacingMode=a,this._active=!1,this._paused=!1,this._flashOn=!1,"number"===typeof r?(i=r,console.warn("You're using a deprecated version of the QrScanner constructor which will be removed in the future")):this._onDecodeError=r,this.$canvas.width=i,this.$canvas.height=i,this._sourceRect={x:0,y:0,width:i,height:i},this._updateSourceRect=this._updateSourceRect.bind(this),this._onPlay=this._onPlay.bind(this),this._onVisibilityChange=this._onVisibilityChange.bind(this),this.$video.playsInline=!0,this.$video.muted=!0,this.$video.disablePictureInPicture=!0,this.$video.addEventListener("loadedmetadata",this._updateSourceRect),this.$video.addEventListener("play",this._onPlay),document.addEventListener("visibilitychange",this._onVisibilityChange),this._qrEnginePromise=e.createQrEngine()}return Object(m.a)(e,null,[{key:"hasCamera",value:function(){return navigator.mediaDevices?navigator.mediaDevices.enumerateDevices().then((function(e){return e.some((function(e){return"videoinput"===e.kind}))})).catch((function(){return!1})):Promise.resolve(!1)}}]),Object(m.a)(e,[{key:"hasFlash",value:function(){if(!("ImageCapture"in window))return Promise.resolve(!1);var e=this.$video.srcObject?this.$video.srcObject.getVideoTracks()[0]:null;return e?new ImageCapture(e).getPhotoCapabilities().then((function(e){return e.fillLightMode.includes("flash")})).catch((function(e){return console.warn(e),!1})):Promise.reject("Camera not started or not available")}},{key:"isFlashOn",value:function(){return this._flashOn}},{key:"toggleFlash",value:function(){return this._setFlash(!this._flashOn)}},{key:"turnFlashOff",value:function(){return this._setFlash(!1)}},{key:"turnFlashOn",value:function(){return this._setFlash(!0)}},{key:"destroy",value:function(){this.$video.removeEventListener("loadedmetadata",this._updateSourceRect),this.$video.removeEventListener("play",this._onPlay),document.removeEventListener("visibilitychange",this._onVisibilityChange),this.stop(),e._postWorkerMessage(this._qrEnginePromise,"close")}},{key:"start",value:function(){var e=this;if(this._active&&!this._paused)return Promise.resolve();if("https:"!==window.location.protocol&&console.warn("The camera stream is only accessible if the page is transferred via https."),this._active=!0,this._paused=!1,document.hidden)return Promise.resolve();if(clearTimeout(this._offTimeout),this._offTimeout=null,this.$video.srcObject)return this.$video.play(),Promise.resolve();var t=this._preferredFacingMode;return this._getCameraStream(t,!0).catch((function(){return t="environment"===t?"user":"environment",e._getCameraStream()})).then((function(n){t=e._getFacingMode(n)||t,e.$video.srcObject=n,e.$video.play(),e._setVideoMirror(t)})).catch((function(t){throw e._active=!1,t}))}},{key:"stop",value:function(){this.pause(),this._active=!1}},{key:"pause",value:function(){var e=this;this._paused=!0,this._active&&(this.$video.pause(),this._offTimeout||(this._offTimeout=setTimeout((function(){var t,n=function(e){if("undefined"===typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(e=Object(v.a)(e))){var t=0,n=function(){};return{s:n,n:function(){return t>=e.length?{done:!0}:{done:!1,value:e[t++]}},e:function(e){throw e},f:n}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var r,i,a=!0,o=!1;return{s:function(){r=e[Symbol.iterator]()},n:function(){var e=r.next();return a=e.done,e},e:function(e){o=!0,i=e},f:function(){try{a||null==r.return||r.return()}finally{if(o)throw i}}}}(e.$video.srcObject?e.$video.srcObject.getTracks():[]);try{for(n.s();!(t=n.n()).done;){t.value.stop()}}catch(r){n.e(r)}finally{n.f()}e.$video.srcObject=null,e._offTimeout=null}),300)))}},{key:"setGrayscaleWeights",value:function(t,n,r){var i=!(arguments.length>3&&void 0!==arguments[3])||arguments[3];e._postWorkerMessage(this._qrEnginePromise,"grayscaleWeights",{red:t,green:n,blue:r,useIntegerApproximation:i})}},{key:"setInversionMode",value:function(t){e._postWorkerMessage(this._qrEnginePromise,"inversionMode",t)}},{key:"_onPlay",value:function(){this._updateSourceRect(),this._scanFrame()}},{key:"_onVisibilityChange",value:function(){document.hidden?this.pause():this._active&&this.start()}},{key:"_updateSourceRect",value:function(){var e=Math.min(this.$video.videoWidth,this.$video.videoHeight),t=Math.round(2/3*e);this._sourceRect.width=this._sourceRect.height=t,this._sourceRect.x=(this.$video.videoWidth-t)/2,this._sourceRect.y=(this.$video.videoHeight-t)/2}},{key:"_scanFrame",value:function(){var t=this;if(!this._active||this.$video.paused||this.$video.ended)return!1;requestAnimationFrame((function(){t.$video.readyState<=1?t._scanFrame():t._qrEnginePromise.then((function(n){return e.scanImage(t.$video,t._sourceRect,n,t.$canvas,!0)})).then(t._onDecode,(function(n){t._active&&(-1!==(n.message||n).indexOf("service unavailable")&&(t._qrEnginePromise=e.createQrEngine()),t._onDecodeError(n))})).then((function(){return t._scanFrame()}))}))}},{key:"_onDecodeError",value:function(t){t!==e.NO_QR_CODE_FOUND&&console.log(t)}},{key:"_getCameraStream",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=[{width:{min:1024}},{width:{min:768}},{}];return e&&(t&&(e={exact:e}),n.forEach((function(t){return t.facingMode=e}))),this._getMatchingCameraStream(n)}},{key:"_getMatchingCameraStream",value:function(e){var t=this;return navigator.mediaDevices&&0!==e.length?navigator.mediaDevices.getUserMedia({video:e.shift()}).catch((function(){return t._getMatchingCameraStream(e)})):Promise.reject("Camera not found.")}},{key:"_setFlash",value:function(e){var t=this;return this.hasFlash().then((function(n){return n?t.$video.srcObject.getVideoTracks()[0].applyConstraints({advanced:[{torch:e}]}):Promise.reject("No flash available")})).then((function(){return t._flashOn=e}))}},{key:"_setVideoMirror",value:function(e){var t="user"===e?-1:1;this.$video.style.transform="scaleX("+t+")"}},{key:"_getFacingMode",value:function(e){var t=e.getVideoTracks()[0];return t?/rear|back|environment/i.test(t.label)?"environment":/front|user|face/i.test(t.label)?"user":null:null}}],[{key:"scanImage",value:function(t){var n=this,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null,s=arguments.length>4&&void 0!==arguments[4]&&arguments[4],c=arguments.length>5&&void 0!==arguments[5]&&arguments[5],u=a instanceof Worker,l=Promise.all([a||e.createQrEngine(),e._loadImage(t)]).then((function(t){var c,l=Object(r.a)(t,2),d=l[0],h=l[1];a=d;var v=n._drawToCanvas(h,i,o,s),f=Object(r.a)(v,2);return o=f[0],c=f[1],a instanceof Worker?(u||a.postMessage({type:"inversionMode",data:"both"}),new Promise((function(t,n){var r,i,s;i=function(o){"qrResult"===o.data.type&&(a.removeEventListener("message",i),a.removeEventListener("error",s),clearTimeout(r),null!==o.data.data?t(o.data.data):n(e.NO_QR_CODE_FOUND))},s=function(e){a.removeEventListener("message",i),a.removeEventListener("error",s),clearTimeout(r);var t=e?e.message||e:"Unknown Error";n("Scanner error: "+t)},a.addEventListener("message",i),a.addEventListener("error",s),r=setTimeout((function(){return s("timeout")}),1e4);var u=c.getImageData(0,0,o.width,o.height);a.postMessage({type:"decode",data:u},[u.data.buffer])}))):new Promise((function(t,n){var r=setTimeout((function(){return n("Scanner error: timeout")}),1e4);a.detect(o).then((function(r){r.length?t(r[0].rawValue):n(e.NO_QR_CODE_FOUND)})).catch((function(e){return n("Scanner error: "+(e.message||e))})).finally((function(){return clearTimeout(r)}))}))}));return i&&c&&(l=l.catch((function(){return e.scanImage(t,null,a,o,s)}))),l=l.finally((function(){u||e._postWorkerMessage(a,"close")}))}},{key:"createQrEngine",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:e.WORKER_PATH;return("BarcodeDetector"in window?BarcodeDetector.getSupportedFormats():Promise.resolve([])).then((function(e){return-1!==e.indexOf("qr_code")?new BarcodeDetector({formats:["qr_code"]}):new Worker(t)}))}},{key:"_drawToCanvas",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];n=n||document.createElement("canvas");var i=t&&t.x?t.x:0,a=t&&t.y?t.y:0,o=t&&t.width?t.width:e.width||e.videoWidth,s=t&&t.height?t.height:e.height||e.videoHeight;r||n.width===o&&n.height===s||(n.width=o,n.height=s);var c=n.getContext("2d",{alpha:!1});return c.imageSmoothingEnabled=!1,c.drawImage(e,i,a,o,s,0,0,n.width,n.height),[n,c]}},{key:"_loadImage",value:function(t){if(t instanceof HTMLCanvasElement||t instanceof HTMLVideoElement||window.ImageBitmap&&t instanceof window.ImageBitmap||window.OffscreenCanvas&&t instanceof window.OffscreenCanvas)return Promise.resolve(t);if(t instanceof Image)return e._awaitImageLoad(t).then((function(){return t}));if(t instanceof File||t instanceof Blob||t instanceof URL||"string"===typeof t){var n=new Image;return t instanceof File||t instanceof Blob?n.src=URL.createObjectURL(t):n.src=t,e._awaitImageLoad(n).then((function(){return(t instanceof File||t instanceof Blob)&&URL.revokeObjectURL(n.src),n}))}return Promise.reject("Unsupported image type.")}},{key:"_awaitImageLoad",value:function(e){return new Promise((function(t,n){var r,i;e.complete&&0!==e.naturalWidth?t():(r=function(){e.removeEventListener("load",r),e.removeEventListener("error",i),t()},i=function(){e.removeEventListener("load",r),e.removeEventListener("error",i),n("Image load error")},e.addEventListener("load",r),e.addEventListener("error",i))}))}},{key:"_postWorkerMessage",value:function(e,t,n){return Promise.resolve(e).then((function(e){e instanceof Worker&&e.postMessage({type:t,data:n})}))}}]),e}();function p(){var e=Object(i.a)(["\n  font-size: 0.5em;\n  color: red;\n  position: absolute;\n  left: 50%;\n  white-space: nowrap;\n  transform: translate(-50%);\n"]);return p=function(){return e},e}function _(){var e=Object(i.a)(["\n  height: 100%;\n  width: 100%;\n"]);return _=function(){return e},e}function b(){var e=Object(i.a)(["\n  font-size: 1.5em;\n  font-weight: bold;\n"]);return b=function(){return e},e}function y(){var e=Object(i.a)(["\n  font-size: calc(1vw + 2vh);\n\n  @media only screen and (max-width: 800px) {\n    font-size: calc(1vw + 3vh);\n  }\n"]);return y=function(){return e},e}function w(){var e=Object(i.a)(["\n  display: grid;\n  grid-template-columns: 1fr;\n  grid-template-rows: [title-start] 25% [title-end preview-start] 1fr [preview-end];\n  justify-items: center;\n  align-items: center;\n  height: 100%;\n\n  @media only screen and (max-width: 800px) {\n    grid-template-rows: [title-start] 25% [title-end preview-start] 1fr [preview-end];\n  }\n\n  overflow: hidden;\n"]);return w=function(){return e},e}function E(){var e=Object(i.a)(["\n  border: none;\n  color: white;\n  padding: 10px 15px;\n  font-size: 1em;\n  background-color: ",";\n  border-radius: 3px;\n  transition: all 0.2s;\n  margin: 10px;\n  animation: "," 0.3s;\n\n  &:hover {\n    background-color: ",";\n    transition: all 0.2s;\n    transform: translateY(-10px);\n    cursor: pointer;\n  }\n"]);return E=function(){return e},e}function O(){var e=Object(i.a)(["\n  padding: 15px 10px;\n  font-size: 0.8em;\n\n  a {\n    text-decoration: none;\n    color: white;\n  }\n"]);return O=function(){return e},e}function k(){var e=Object(i.a)(["\n  background-color: white;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  box-shadow: -3px 0px 50px 5px black;\n  color: black;\n  // flex-direction: column;\n"]);return k=function(){return e},e}function j(){var e=Object(i.a)(["\n  width: 100%;\n  height: 100%;\n  background-color: #232323;\n  color: white;\n  display: grid;\n  grid-template-rows: 3.5fr 1fr auto;\n  font-size: calc(1vw + 1vh + 5px);\n"]);return j=function(){return e},e}function x(){var e=Object(i.a)(["\n  from {\n    transform: scale(0.5);\n  }\n  to {\n    transform: scale(1);\n  }\n  "]);return x=function(){return e},e}g.DEFAULT_CANVAS_SIZE=400,g.NO_QR_CODE_FOUND="No QR code found",g.WORKER_PATH="qr-scanner-worker.min.js";var P=Object(s.b)(x()),F=s.a.div(j()),L=s.a.div(k()),$=s.a.div(O()),C=s.a.button(E(),(function(e){return e.color[0]}),P,(function(e){return e.color[1]})),S=s.a.div(w()),M=s.a.span(y()),R=s.a.span(b()),D=s.a.img(_()),T=s.a.span(p());function I(){var e=Object(a.useRef)(),t=Object(a.useState)(),n=Object(r.a)(t,2),i=n[0],s=(n[1],Object(a.useState)(!1)),d=Object(r.a)(s,2),v=d[0],f=d[1];return Object(a.useEffect)((function(){if(v){var t=new g(e.current,(function(e){return window.location.href=e}));return t.start(),function(){t.stop(),t.destroy(),t=null}}}),[v,i]),o.a.createElement(F,null,o.a.createElement(S,null,v?o.a.createElement("video",{style:{gridRow:"1 / 3",width:"100%"},ref:e}):o.a.createElement(o.a.Fragment,null,o.a.createElement(M,null,o.a.createElement(R,null,"FoodHub"),o.a.createElement("br",null),"\u0e41\u0e1e\u0e25\u0e15\u0e1f\u0e2d\u0e23\u0e4c\u0e21\u0e2a\u0e33\u0e2b\u0e23\u0e31\u0e1a\u0e23\u0e49\u0e32\u0e19\u0e2d\u0e32\u0e2b\u0e32\u0e23"),o.a.createElement(D,{src:h.a,alt:"Preview"}))),o.a.createElement(L,null,o.a.createElement("div",{style:{position:"relative"}},o.a.createElement(C,{onClick:function(){f(!v)},color:["#555555","#555555"],disabled:!0},o.a.createElement(c.a,{icon:u.r})," \u0e2a\u0e41\u0e01\u0e19\u0e40\u0e1e\u0e37\u0e48\u0e2d\u0e2a\u0e31\u0e48\u0e07"),o.a.createElement("br",null),o.a.createElement(T,null,"\u0e1b\u0e34\u0e14\u0e01\u0e32\u0e23\u0e43\u0e0a\u0e49\u0e07\u0e32\u0e19\u0e0a\u0e31\u0e48\u0e27\u0e04\u0e23\u0e32\u0e27")),o.a.createElement("span",{style:{color:"#555555",fontSize:"0.8em"}}," ","| \u0e40\u0e23\u0e34\u0e48\u0e21\u0e43\u0e0a\u0e49\u0e07\u0e32\u0e19\u0e40\u0e25\u0e22 |"," "),o.a.createElement(l.b,{to:"/manager/sign-in"},o.a.createElement(C,{color:["#232323","#555555"]},o.a.createElement(c.a,{icon:u.x})," \u0e2a\u0e23\u0e49\u0e32\u0e07\u0e23\u0e49\u0e32\u0e19\u0e2d\u0e32\u0e2b\u0e32\u0e23"))),o.a.createElement($,null,o.a.createElement("span",null,"Made with ",o.a.createElement(c.a,{icon:u.l,style:{color:"red"}})," ","by")," ",o.a.createElement("a",{target:"_blank",href:"https://github.com/gitguddev"},"GitGud Dev")))}t.default=function(){return o.a.createElement(I,null)}}}]);
//# sourceMappingURL=10.39476557.chunk.js.map