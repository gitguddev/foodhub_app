{"version":3,"sources":["route/manager/WorkerManage.js","../node_modules/copy-to-clipboard/index.js","../node_modules/toggle-selection/index.js"],"names":["UserList","styled","div","UserContainer","UserPicture","img","LoginButton","button","DeleteButton","UserPictureContainer","Upload","span","NameInput","input","attrs","props","type","Title","WorkerAdd","UserPictureStyled","worker_id","fileRef","reloader","useRef","imgRef","restaurant_id","useParams","event","a","reader","FileReader","onload","current","src","result","target","files","length","readAsDataURL","form","FormData","append","apiFetcher","url","Auth","currentUser","uid","option","headers","Accept","method","body","json","message","console","error","onClick","click","onChange","accept","ref","style","display","className","alt","Status","success","WorkerName","workerName","name","useState","nameSet","status","statusSet","timer","timerSet","setTimeout","value","search","preventDefault","clearTimeout","nameUpdater","WorkerRole","workerRole","role","roleSet","roleUpdater","WorkerRow","data","map","UserContainerizer","key","id","copied","copiedSet","window","confirm","copy","urlCreate","icon","faLink","deleteWorker","faTrash","WorkerManage","useAsync","promiseFn","reload","faPlus","deselectCurrent","require","clipboardToIE11Formatting","module","exports","text","options","debug","reselectPrevious","range","selection","mark","document","createRange","getSelection","createElement","textContent","all","position","top","clip","whiteSpace","webkitUserSelect","MozUserSelect","msUserSelect","userSelect","addEventListener","e","stopPropagation","format","clipboardData","warn","clearData","setData","onCopy","appendChild","selectNodeContents","addRange","execCommand","Error","err","copyKey","test","navigator","userAgent","replace","prompt","removeRange","removeAllRanges","removeChild","rangeCount","active","activeElement","ranges","i","push","getRangeAt","tagName","toUpperCase","blur","forEach","focus"],"mappings":"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","file":"static/js/12.81de8fe0.chunk.js","sourcesContent":["import React, { useRef, useState } from \"react\";\nimport styled from \"styled-components\";\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\nimport apiFetcher from \"../../utils/apiFetcher\";\nimport Loader from \"../../utils/Loader\";\nimport { Auth } from \"../../utils/firebase\";\nimport { faLink, faPlus, faTrash } from \"@fortawesome/free-solid-svg-icons\";\nimport { useAsync } from \"react-async\";\nimport { useParams } from \"react-router-dom\";\nimport Avatar from \"../../Avatar.png\";\nimport copy from \"copy-to-clipboard\";\n\n// const RoleList = [\"พนักงานเสิร์ฟ\", \"พ่อครัว\"];\n\nconst UserList = styled.div`\n  display: flex;\n  flex-direction: column;\n`;\n\nconst UserContainer = styled.div`\n  display: grid;\n  grid-template-columns: 200px repeat(2, 1fr);\n  grid-template-rows: repeat(2, 1fr);\n  align-items: center;\n  padding: 15px;\n  border-bottom: 1px dashed #ddd;\n  font-size: calc(1vw + 1vh);\n  grid-gap: 10px;\n\n  & > div {\n    grid-row: 1 / 3;\n  }\n\n  select {\n    font-size: 0.9em;\n    padding: 3px;\n    height: 50px;\n    width: 100%;\n  }\n\n  .name {\n    grid-column: 2;\n  }\n  .role {\n    grid-column: 3;\n  }\n  .operation {\n    grid-row: 3;\n    justify-self: flex-end;\n    grid-column: 1 / 4;\n  }\n\n  @media only screen and (max-width: 450px) {\n    & {\n      grid-gap: 10px;\n      grid-template-columns: 1fr;\n      grid-template-rows: 100px repeat(3, 1fr);\n      font-size: 0.9em;\n    }\n    .name,\n    .role,\n    & > div,\n    .operation {\n      grid-column: 1;\n    }\n    .name {\n      grid-row: 2;\n    }\n    .role {\n      grid-row: 3;\n    }\n    .operation {\n      grid-row: 4;\n      justify-self: center;\n    }\n  }\n`;\n\nconst UserPicture = styled.img`\n  width: 150px;\n  height: 150px;\n  border-radius: 50%;\n  object-fit: cover;\n  margin-right: 10px;\n\n  @media only screen and (max-width: 900px) {\n    height: 125px;\n    width: 125px;\n  }\n\n  @media only screen and (max-width: 800px) {\n    margin-right: 0;\n    height: 100px;\n    width: 100px;\n    // margin-bottom: 20px;\n  }\n`;\n\nconst LoginButton = styled.button`\n  padding: 4px 15px;\n  border-radius: 3px;\n  background-color: blue;\n  color: white;\n  border: none;\n  font-size: 0.7em;\n  transition: all 0.3s;\n\n  &:hover {\n    background-color: #005;\n    transition: all 0.3s;\n    cursor: pointer;\n  }\n\n  svg {\n    color: #eee;\n  }\n`;\nconst DeleteButton = styled.button`\n  padding: 4px 15px;\n  border-radius: 3px;\n  background-color: red;\n  color: white;\n  border: none;\n  font-size: 0.7em;\n  transition: all 0.3s;\n\n  &:hover {\n    background-color: #500;\n    transition: all 0.3s;\n    cursor: pointer;\n  }\n\n  svg {\n    color: #eee;\n  }\n`;\n\nconst UserPictureContainer = styled.div`\n  position: relative;\n  justify-self: center;\n  grid-column: 1;\n  grid-row: 1 / 4 !important;\n\n  &:hover {\n    cursor: pointer;\n\n    img {\n      filter: grayscale(0.5) brightness(0.3);\n      transition: all 0.3s;\n    }\n    .upload {\n      display: block;\n    }\n  }\n\n  @media only screen and (max-width: 450px) {\n    grid-row: 1 !important;\n  }\n`;\n\nconst Upload = styled.span`\n  position: absolute;\n  top: 50%;\n  left: 50%;\n  transform: translate(-50%, -50%);\n  font-size: calc(0.9vw + 0.8vh);\n  white-space: nowrap;\n  color: white;\n  display: none;\n  z-index: 2;\n`;\n\nconst NameInput = styled.input.attrs((props) => ({\n  type: \"text\",\n}))`\n  padding: 10px;\n  font-size: 0.7em;\n  width: 100%;\n  height: 50px;\n`;\n\nconst Title = styled.span`\n  font-weight: bold;\n  font-size: 0.7em;\n`;\n\nconst WorkerAdd = styled.button`\n  padding: 5px 10px;\n  background-color: #232323;\n  color: white;\n  border: none;\n  border-radius: 3px;\n  align-self: flex-start;\n  font-size: 0.7em;\n  margin-bottom: 15px;\n  transition: all 0.3s;\n\n  &:hover {\n    background-color: #555555;\n    padding: 5px 15px;\n    transition: all 0.3s;\n    cursor: pointer;\n  }\n`;\n\nfunction UserPictureStyled({ img, worker_id, reloader }) {\n  const fileRef = useRef();\n  const imgRef = useRef();\n  const { restaurant_id } = useParams();\n\n  async function handleChange(event) {\n    const reader = new FileReader();\n    reader.onload = (event) => {\n      imgRef.current.src = reader.result;\n    };\n\n    if (event.target.files?.length > 0)\n      reader.readAsDataURL(event.target.files[0]);\n\n    const form = new FormData();\n    if (event.target?.files?.length > 0)\n      form.append(\"img\", event.target.files[0]);\n\n    const json = await apiFetcher({\n      url: `/manager/worker/update.php?user_uid=${Auth.currentUser.uid}&restaurant_id=${restaurant_id}&method=img&worker_id=${worker_id}`,\n      option: {\n        headers: { Accept: \"application/json\" },\n        method: \"POST\",\n        body: form,\n      },\n    });\n\n    if (!(json?.message === \"success\")) console.error(json?.message);\n  }\n\n  return (\n    <UserPictureContainer onClick={() => fileRef.current.click()}>\n      <input\n        onChange={handleChange}\n        accept=\"image/*\"\n        ref={fileRef}\n        type=\"file\"\n        style={{ display: \"none\" }}\n      />\n      <Upload className=\"upload\">เลือกรูปภาพ</Upload>\n      <UserPicture ref={imgRef} src={img} alt=\"worker\" />\n    </UserPictureContainer>\n  );\n}\n\nconst Status = styled.span`\n  color: ${(props) => (props.success ? \"green\" : props.error ? \"red\" : \"blue\")};\n  font-size: 0.9em;\n`;\n\nfunction WorkerName({ name: workerName, worker_id }) {\n  const [name, nameSet] = useState(workerName);\n  const [status, statusSet] = useState();\n  const [timer, timerSet] = useState();\n  const { restaurant_id } = useParams();\n\n  function handleChange(event) {\n    if (event.target.value.search(/[',\"]/) !== -1)\n      return event.preventDefault();\n    const value = event.target.value;\n    nameSet(value);\n    statusSet(<Status>กำลังประมวล...</Status>);\n    if (timer) clearTimeout(timer);\n    timerSet(setTimeout(() => nameUpdater(value), 500));\n  }\n\n  async function nameUpdater(name) {\n    const json = await apiFetcher({\n      url: `/manager/worker/update.php?user_uid=${Auth.currentUser.uid}&restaurant_id=${restaurant_id}&method=name&name=${name}&worker_id=${worker_id}`,\n    });\n\n    if (json?.message === \"success\") {\n      statusSet(<Status success>อัพเดธสำเร็จ</Status>);\n    } else {\n      statusSet(<Status error>มีปัญหาในการแก้ไข</Status>);\n    }\n\n    timerSet(setTimeout(() => statusSet(), 1000));\n  }\n\n  return (\n    <div className=\"name\">\n      <Title>ชื่อพนักงาน {status}</Title>\n      <NameInput type=\"text\" name=\"name\" value={name} onChange={handleChange} />\n    </div>\n  );\n}\n\nfunction WorkerRole({ role: workerRole, worker_id }) {\n  const [role, roleSet] = useState(workerRole);\n  const { restaurant_id } = useParams();\n  const [timer, timerSet] = useState();\n  const [status, statusSet] = useState();\n\n  function handleChange(event) {\n    const value = event.target.value;\n    roleSet(value);\n    roleUpdater(value);\n    clearTimeout(timer);\n  }\n\n  async function roleUpdater(role) {\n    const json = await apiFetcher({\n      url: `/manager/worker/update.php?user_uid=${Auth.currentUser.uid}&restaurant_id=${restaurant_id}&method=role&role=${role}&worker_id=${worker_id}`,\n    });\n\n    if (json?.message === \"success\") {\n      statusSet(<Status success>อัพเดธสำเร็จ</Status>);\n    } else {\n      statusSet(<Status error>มีปัญหาในการแก้ไข</Status>);\n    }\n\n    timerSet(setTimeout(() => statusSet(), 1000));\n  }\n\n  return (\n    <div className=\"role\">\n      <Title>ตำแหน่งงาน {status}</Title>\n      <br />\n      <select onChange={handleChange} value={role}>\n        <option value={0}>พนักงานเสิร์ฟ</option>\n        <option value={1}>พ่อครัว</option>\n        <option value={2}>ผู้ดูแล</option>\n      </select>\n    </div>\n  );\n}\n\nfunction WorkerRow({ data, reloader }) {\n  if (!(data.result?.length > 0)) return <span>ไม่มีพนักงานภายในร้านนี้</span>;\n\n  const eachRows = data.result.map((map) => {\n    return <UserContainerizer key={map.id} map={map} reloader={reloader} />;\n  });\n\n  return eachRows;\n}\n\nfunction UserContainerizer({ map, reloader }) {\n  const { restaurant_id } = useParams();\n  const [copied, copiedSet] = useState(false);\n  const [timer, timerSet] = useState();\n\n  async function deleteWorker(id) {\n    const confirm = window.confirm(\"ยืนยันการลบพนักงาน\");\n    if (confirm) {\n      const json = await apiFetcher({\n        url: `/manager/worker/delete.php?user_uid=${Auth.currentUser.uid}&restaurant_id=${restaurant_id}&worker_id=${id}`,\n      });\n\n      if (json?.message === \"success\") {\n        reloader();\n      } else {\n        console.error(json?.message);\n      }\n    }\n  }\n\n  async function urlCreate(id) {\n    const json = await apiFetcher({\n      url: `/manager/worker/auth_url.php?worker_id=${id}&restaurant_id=${restaurant_id}&user_uid=${Auth.currentUser.uid}`,\n    });\n\n    if (json?.message === \"success\") {\n      copiedSet(true);\n      if (timer) clearTimeout(timer);\n      timerSet(setTimeout(() => copiedSet(false), 1000));\n\n      copy(json.result);\n    } else {\n      console.error(json?.message);\n    }\n  }\n\n  return (\n    <UserContainer>\n      <UserPictureStyled img={map.img} worker_id={map.id} />\n      <WorkerName name={map.name} worker_id={map.id} />\n      <WorkerRole role={map.role} worker_id={map.id} />\n      <div className=\"operation\">\n        <LoginButton onClick={() => urlCreate(map.id)}>\n          <FontAwesomeIcon icon={faLink} />{\" \"}\n          {copied ? \"คัดลอกแล้ว !\" : \"คัดลอกลิ้งค์เข้าใช้งาน\"}\n        </LoginButton>{\" \"}\n        <DeleteButton onClick={() => deleteWorker(map.id)}>\n          <FontAwesomeIcon icon={faTrash} /> ลบพนักงาน\n        </DeleteButton>\n      </div>\n    </UserContainer>\n  );\n}\n\nfunction WorkerManage() {\n  const { restaurant_id } = useParams();\n  const { data, error, reload } = useAsync({\n    promiseFn: apiFetcher,\n    url: `/manager/worker/get.php?user_uid=${Auth.currentUser.uid}&restaurant_id=${restaurant_id}`,\n  });\n\n  async function addWorker() {\n    const json = await apiFetcher({\n      url: `/manager/worker/insert.php?user_uid=${Auth.currentUser.uid}&restaurant_id=${restaurant_id}`,\n    });\n\n    if (json?.message === \"success\") {\n      reload();\n    } else {\n      console.error(json?.message);\n    }\n  }\n\n  if (error) return error;\n  return (\n    <UserList>\n      <WorkerAdd onClick={addWorker}>\n        <FontAwesomeIcon icon={faPlus} /> เพิ่มพนักงาน\n      </WorkerAdd>\n      {data?.message === \"success\" ? (\n        <WorkerRow reloader={reload} data={data} />\n      ) : (\n        <Loader />\n      )}\n    </UserList>\n  );\n}\n\nexport default WorkerManage;\n","\"use strict\";\n\nvar deselectCurrent = require(\"toggle-selection\");\n\nvar clipboardToIE11Formatting = {\n  \"text/plain\": \"Text\",\n  \"text/html\": \"Url\",\n  \"default\": \"Text\"\n}\n\nvar defaultMessage = \"Copy to clipboard: #{key}, Enter\";\n\nfunction format(message) {\n  var copyKey = (/mac os x/i.test(navigator.userAgent) ? \"⌘\" : \"Ctrl\") + \"+C\";\n  return message.replace(/#{\\s*key\\s*}/g, copyKey);\n}\n\nfunction copy(text, options) {\n  var debug,\n    message,\n    reselectPrevious,\n    range,\n    selection,\n    mark,\n    success = false;\n  if (!options) {\n    options = {};\n  }\n  debug = options.debug || false;\n  try {\n    reselectPrevious = deselectCurrent();\n\n    range = document.createRange();\n    selection = document.getSelection();\n\n    mark = document.createElement(\"span\");\n    mark.textContent = text;\n    // reset user styles for span element\n    mark.style.all = \"unset\";\n    // prevents scrolling to the end of the page\n    mark.style.position = \"fixed\";\n    mark.style.top = 0;\n    mark.style.clip = \"rect(0, 0, 0, 0)\";\n    // used to preserve spaces and line breaks\n    mark.style.whiteSpace = \"pre\";\n    // do not inherit user-select (it may be `none`)\n    mark.style.webkitUserSelect = \"text\";\n    mark.style.MozUserSelect = \"text\";\n    mark.style.msUserSelect = \"text\";\n    mark.style.userSelect = \"text\";\n    mark.addEventListener(\"copy\", function(e) {\n      e.stopPropagation();\n      if (options.format) {\n        e.preventDefault();\n        if (typeof e.clipboardData === \"undefined\") { // IE 11\n          debug && console.warn(\"unable to use e.clipboardData\");\n          debug && console.warn(\"trying IE specific stuff\");\n          window.clipboardData.clearData();\n          var format = clipboardToIE11Formatting[options.format] || clipboardToIE11Formatting[\"default\"]\n          window.clipboardData.setData(format, text);\n        } else { // all other browsers\n          e.clipboardData.clearData();\n          e.clipboardData.setData(options.format, text);\n        }\n      }\n      if (options.onCopy) {\n        e.preventDefault();\n        options.onCopy(e.clipboardData);\n      }\n    });\n\n    document.body.appendChild(mark);\n\n    range.selectNodeContents(mark);\n    selection.addRange(range);\n\n    var successful = document.execCommand(\"copy\");\n    if (!successful) {\n      throw new Error(\"copy command was unsuccessful\");\n    }\n    success = true;\n  } catch (err) {\n    debug && console.error(\"unable to copy using execCommand: \", err);\n    debug && console.warn(\"trying IE specific stuff\");\n    try {\n      window.clipboardData.setData(options.format || \"text\", text);\n      options.onCopy && options.onCopy(window.clipboardData);\n      success = true;\n    } catch (err) {\n      debug && console.error(\"unable to copy using clipboardData: \", err);\n      debug && console.error(\"falling back to prompt\");\n      message = format(\"message\" in options ? options.message : defaultMessage);\n      window.prompt(message, text);\n    }\n  } finally {\n    if (selection) {\n      if (typeof selection.removeRange == \"function\") {\n        selection.removeRange(range);\n      } else {\n        selection.removeAllRanges();\n      }\n    }\n\n    if (mark) {\n      document.body.removeChild(mark);\n    }\n    reselectPrevious();\n  }\n\n  return success;\n}\n\nmodule.exports = copy;\n","\nmodule.exports = function () {\n  var selection = document.getSelection();\n  if (!selection.rangeCount) {\n    return function () {};\n  }\n  var active = document.activeElement;\n\n  var ranges = [];\n  for (var i = 0; i < selection.rangeCount; i++) {\n    ranges.push(selection.getRangeAt(i));\n  }\n\n  switch (active.tagName.toUpperCase()) { // .toUpperCase handles XHTML\n    case 'INPUT':\n    case 'TEXTAREA':\n      active.blur();\n      break;\n\n    default:\n      active = null;\n      break;\n  }\n\n  selection.removeAllRanges();\n  return function () {\n    selection.type === 'Caret' &&\n    selection.removeAllRanges();\n\n    if (!selection.rangeCount) {\n      ranges.forEach(function(range) {\n        selection.addRange(range);\n      });\n    }\n\n    active &&\n    active.focus();\n  };\n};\n"],"sourceRoot":""}