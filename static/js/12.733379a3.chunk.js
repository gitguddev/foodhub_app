(this.webpackJsonpfoodhub=this.webpackJsonpfoodhub||[]).push([[12],{254:function(e,n,t){"use strict";t.r(n);var r=t(24),a=t(26),o=t.n(a),c=t(37),i=t(33),u=t(0),s=t.n(u),l=t(34),d=t(86),p=t(25),m=t(36),f=t(90),g=t(87),b=t(17),v=t(3),h=(t(122),t(255)),w=t.n(h);function x(){var e=Object(i.a)(["\n  color: ",";\n  font-size: 0.9em;\n"]);return x=function(){return e},e}function y(){var e=Object(i.a)(["\n  padding: 5px 10px;\n  background-color: #232323;\n  color: white;\n  border: none;\n  border-radius: 3px;\n  align-self: flex-start;\n  font-size: 0.7em;\n  margin-bottom: 15px;\n  transition: all 0.3s;\n\n  &:hover {\n    background-color: #555555;\n    padding: 5px 15px;\n    transition: all 0.3s;\n    cursor: pointer;\n  }\n"]);return y=function(){return e},e}function j(){var e=Object(i.a)(["\n  font-weight: bold;\n  font-size: 0.7em;\n"]);return j=function(){return e},e}function O(){var e=Object(i.a)(["\n  padding: 10px;\n  font-size: 0.7em;\n  width: 100%;\n  height: 50px;\n"]);return O=function(){return e},e}function k(){var e=Object(i.a)(["\n  position: absolute;\n  top: 50%;\n  left: 50%;\n  transform: translate(-50%, -50%);\n  font-size: calc(0.9vw + 0.8vh);\n  white-space: nowrap;\n  color: white;\n  display: none;\n  z-index: 2;\n"]);return k=function(){return e},e}function E(){var e=Object(i.a)(["\n  position: relative;\n  justify-self: center;\n  grid-column: 1;\n  grid-row: 1 / 4 !important;\n\n  &:hover {\n    cursor: pointer;\n\n    img {\n      filter: grayscale(0.5) brightness(0.3);\n      transition: all 0.3s;\n    }\n    .upload {\n      display: block;\n    }\n  }\n\n  @media only screen and (max-width: 450px) {\n    grid-row: 1 !important;\n  }\n"]);return E=function(){return e},e}function _(){var e=Object(i.a)(["\n  padding: 4px 15px;\n  border-radius: 3px;\n  background-color: red;\n  color: white;\n  border: none;\n  font-size: 0.7em;\n  transition: all 0.3s;\n\n  &:hover {\n    background-color: #500;\n    transition: all 0.3s;\n    cursor: pointer;\n  }\n\n  svg {\n    color: #eee;\n  }\n"]);return _=function(){return e},e}function C(){var e=Object(i.a)(["\n  padding: 4px 15px;\n  border-radius: 3px;\n  background-color: blue;\n  color: white;\n  border: none;\n  font-size: 0.7em;\n  transition: all 0.3s;\n\n  &:hover {\n    background-color: #005;\n    transition: all 0.3s;\n    cursor: pointer;\n  }\n\n  svg {\n    color: #eee;\n  }\n"]);return C=function(){return e},e}function D(){var e=Object(i.a)(["\n  width: 150px;\n  height: 150px;\n  border-radius: 50%;\n  object-fit: cover;\n  margin-right: 10px;\n\n  @media only screen and (max-width: 900px) {\n    height: 125px;\n    width: 125px;\n  }\n\n  @media only screen and (max-width: 800px) {\n    margin-right: 0;\n    height: 100px;\n    width: 100px;\n    // margin-bottom: 20px;\n  }\n"]);return D=function(){return e},e}function S(){var e=Object(i.a)(["\n  display: grid;\n  grid-template-columns: 200px repeat(2, 1fr);\n  grid-template-rows: repeat(2, 1fr);\n  align-items: center;\n  padding: 15px;\n  border-bottom: 1px dashed #ddd;\n  font-size: calc(1vw + 1vh);\n  grid-gap: 10px;\n\n  & > div {\n    grid-row: 1 / 3;\n  }\n\n  select {\n    font-size: 0.9em;\n    padding: 3px;\n    height: 50px;\n    width: 100%;\n  }\n\n  .name {\n    grid-column: 2;\n  }\n  .role {\n    grid-column: 3;\n  }\n  .operation {\n    grid-row: 3;\n    justify-self: flex-end;\n    grid-column: 1 / 4;\n  }\n\n  @media only screen and (max-width: 450px) {\n    & {\n      grid-gap: 10px;\n      grid-template-columns: 1fr;\n      grid-template-rows: 100px repeat(3, 1fr);\n      font-size: 0.9em;\n    }\n    .name,\n    .role,\n    & > div,\n    .operation {\n      grid-column: 1;\n    }\n    .name {\n      grid-row: 2;\n    }\n    .role {\n      grid-row: 3;\n    }\n    .operation {\n      grid-row: 4;\n      justify-self: center;\n    }\n  }\n"]);return S=function(){return e},e}function R(){var e=Object(i.a)(["\n  display: flex;\n  flex-direction: column;\n"]);return R=function(){return e},e}var U=l.a.div(R()),T=l.a.div(S()),z=l.a.img(D()),A=l.a.button(C()),N=l.a.button(_()),F=l.a.div(E()),I=l.a.span(k()),P=l.a.input.attrs((function(e){return{type:"text"}}))(O()),J=l.a.span(j()),L=l.a.button(y());function q(e){var n=e.img,t=e.worker_id,r=(e.reloader,Object(u.useRef)()),a=Object(u.useRef)(),i=Object(v.h)().restaurant_id;function l(){return(l=Object(c.a)(o.a.mark((function e(n){var r,c,u,s,l,d;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(s=new FileReader).onload=function(e){a.current.src=s.result},(null===(r=n.target.files)||void 0===r?void 0:r.length)>0&&s.readAsDataURL(n.target.files[0]),l=new FormData,(null===(c=n.target)||void 0===c||null===(u=c.files)||void 0===u?void 0:u.length)>0&&l.append("img",n.target.files[0]),e.next=7,Object(p.b)({url:"/manager/worker/update.php?user_uid=".concat(f.a.currentUser.uid,"&restaurant_id=").concat(i,"&method=img&worker_id=").concat(t),option:{headers:{Accept:"application/json"},method:"POST",body:l}});case 7:"success"!==(null===(d=e.sent)||void 0===d?void 0:d.message)&&console.error(null===d||void 0===d?void 0:d.message);case 9:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return s.a.createElement(F,{onClick:function(){return r.current.click()}},s.a.createElement("input",{onChange:function(e){return l.apply(this,arguments)},accept:"image/*",ref:r,type:"file",style:{display:"none"}}),s.a.createElement(I,{className:"upload"},"\u0e40\u0e25\u0e37\u0e2d\u0e01\u0e23\u0e39\u0e1b\u0e20\u0e32\u0e1e"),s.a.createElement(z,{ref:a,src:n,alt:"worker"}))}var M=l.a.span(x(),(function(e){return e.success?"green":e.error?"red":"blue"}));function X(e){var n=e.name,t=e.worker_id,a=Object(u.useState)(n),i=Object(r.a)(a,2),l=i[0],d=i[1],m=Object(u.useState)(),g=Object(r.a)(m,2),b=g[0],h=g[1],w=Object(u.useState)(),x=Object(r.a)(w,2),y=x[0],j=x[1],O=Object(v.h)().restaurant_id;function k(){return(k=Object(c.a)(o.a.mark((function e(n){var r;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(p.b)({url:"/manager/worker/update.php?user_uid=".concat(f.a.currentUser.uid,"&restaurant_id=").concat(O,"&method=name&name=").concat(n,"&worker_id=").concat(t)});case 2:"success"===(null===(r=e.sent)||void 0===r?void 0:r.message)?h(s.a.createElement(M,{success:!0},"\u0e2d\u0e31\u0e1e\u0e40\u0e14\u0e18\u0e2a\u0e33\u0e40\u0e23\u0e47\u0e08")):h(s.a.createElement(M,{error:!0},"\u0e21\u0e35\u0e1b\u0e31\u0e0d\u0e2b\u0e32\u0e43\u0e19\u0e01\u0e32\u0e23\u0e41\u0e01\u0e49\u0e44\u0e02")),j(setTimeout((function(){return h()}),1e3));case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return s.a.createElement("div",{className:"name"},s.a.createElement(J,null,"\u0e0a\u0e37\u0e48\u0e2d\u0e1e\u0e19\u0e31\u0e01\u0e07\u0e32\u0e19 ",b),s.a.createElement(P,{type:"text",name:"name",value:l,onChange:function(e){if(-1!==e.target.value.search(/[',"]/))return e.preventDefault();var n=e.target.value;d(n),h(s.a.createElement(M,null,"\u0e01\u0e33\u0e25\u0e31\u0e07\u0e1b\u0e23\u0e30\u0e21\u0e27\u0e25...")),y&&clearTimeout(y),j(setTimeout((function(){return function(e){return k.apply(this,arguments)}(n)}),500))}}))}function B(e){var n=e.role,t=e.worker_id,a=Object(u.useState)(n),i=Object(r.a)(a,2),l=i[0],d=i[1],m=Object(v.h)().restaurant_id,g=Object(u.useState)(),b=Object(r.a)(g,2),h=b[0],w=b[1],x=Object(u.useState)(),y=Object(r.a)(x,2),j=y[0],O=y[1];function k(){return(k=Object(c.a)(o.a.mark((function e(n){var r;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(p.b)({url:"/manager/worker/update.php?user_uid=".concat(f.a.currentUser.uid,"&restaurant_id=").concat(m,"&method=role&role=").concat(n,"&worker_id=").concat(t)});case 2:"success"===(null===(r=e.sent)||void 0===r?void 0:r.message)?O(s.a.createElement(M,{success:!0},"\u0e2d\u0e31\u0e1e\u0e40\u0e14\u0e18\u0e2a\u0e33\u0e40\u0e23\u0e47\u0e08")):O(s.a.createElement(M,{error:!0},"\u0e21\u0e35\u0e1b\u0e31\u0e0d\u0e2b\u0e32\u0e43\u0e19\u0e01\u0e32\u0e23\u0e41\u0e01\u0e49\u0e44\u0e02")),w(setTimeout((function(){return O()}),1e3));case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return s.a.createElement("div",{className:"role"},s.a.createElement(J,null,"\u0e15\u0e33\u0e41\u0e2b\u0e19\u0e48\u0e07\u0e07\u0e32\u0e19 ",j),s.a.createElement("br",null),s.a.createElement("select",{onChange:function(e){var n=e.target.value;d(n),function(e){k.apply(this,arguments)}(n),clearTimeout(h)},value:l},s.a.createElement("option",{value:0},"\u0e1e\u0e19\u0e31\u0e01\u0e07\u0e32\u0e19\u0e40\u0e2a\u0e34\u0e23\u0e4c\u0e1f"),s.a.createElement("option",{value:1},"\u0e1e\u0e48\u0e2d\u0e04\u0e23\u0e31\u0e27"),s.a.createElement("option",{value:2},"\u0e1c\u0e39\u0e49\u0e14\u0e39\u0e41\u0e25")))}function G(e){var n,t=e.data,r=e.reloader;return(null===(n=t.result)||void 0===n?void 0:n.length)>0?t.result.map((function(e){return s.a.createElement(H,{key:e.id,map:e,reloader:r})})):s.a.createElement("span",null,"\u0e44\u0e21\u0e48\u0e21\u0e35\u0e1e\u0e19\u0e31\u0e01\u0e07\u0e32\u0e19\u0e20\u0e32\u0e22\u0e43\u0e19\u0e23\u0e49\u0e32\u0e19\u0e19\u0e35\u0e49")}function H(e){var n=e.map,t=e.reloader,a=Object(v.h)().restaurant_id,i=Object(u.useState)(!1),l=Object(r.a)(i,2),m=l[0],b=l[1],h=Object(u.useState)(),x=Object(r.a)(h,2),y=x[0],j=x[1];function O(){return(O=Object(c.a)(o.a.mark((function e(n){var r;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!window.confirm("\u0e22\u0e37\u0e19\u0e22\u0e31\u0e19\u0e01\u0e32\u0e23\u0e25\u0e1a\u0e1e\u0e19\u0e31\u0e01\u0e07\u0e32\u0e19")){e.next=6;break}return e.next=4,Object(p.b)({url:"/manager/worker/delete.php?user_uid=".concat(f.a.currentUser.uid,"&restaurant_id=").concat(a,"&worker_id=").concat(n)});case 4:"success"===(null===(r=e.sent)||void 0===r?void 0:r.message)?t():console.error(null===r||void 0===r?void 0:r.message);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function k(){return(k=Object(c.a)(o.a.mark((function e(n){var t;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(p.b)({url:"/manager/worker/auth_url.php?worker_id=".concat(n,"&restaurant_id=").concat(a,"&user_uid=").concat(f.a.currentUser.uid)});case 2:"success"===(null===(t=e.sent)||void 0===t?void 0:t.message)?(b(!0),y&&clearTimeout(y),j(setTimeout((function(){return b(!1)}),1e3)),w()(t.result)):console.error(null===t||void 0===t?void 0:t.message);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return s.a.createElement(T,null,s.a.createElement(q,{img:n.img,worker_id:n.id}),s.a.createElement(X,{name:n.name,worker_id:n.id}),s.a.createElement(B,{role:n.role,worker_id:n.id}),s.a.createElement("div",{className:"operation"},s.a.createElement(A,{onClick:function(){return function(e){return k.apply(this,arguments)}(n.id)}},s.a.createElement(d.a,{icon:g.n})," ",m?"\u0e04\u0e31\u0e14\u0e25\u0e2d\u0e01\u0e41\u0e25\u0e49\u0e27 !":"\u0e04\u0e31\u0e14\u0e25\u0e2d\u0e01\u0e25\u0e34\u0e49\u0e07\u0e04\u0e4c\u0e40\u0e02\u0e49\u0e32\u0e43\u0e0a\u0e49\u0e07\u0e32\u0e19")," ",s.a.createElement(N,{onClick:function(){return function(e){return O.apply(this,arguments)}(n.id)}},s.a.createElement(d.a,{icon:g.A})," \u0e25\u0e1a\u0e1e\u0e19\u0e31\u0e01\u0e07\u0e32\u0e19")))}n.default=function(){var e=Object(v.h)().restaurant_id,n=Object(b.a)({promiseFn:p.b,url:"/manager/worker/get.php?user_uid=".concat(f.a.currentUser.uid,"&restaurant_id=").concat(e)}),t=n.data,r=n.error,a=n.reload;function i(){return(i=Object(c.a)(o.a.mark((function n(){var t;return o.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,Object(p.b)({url:"/manager/worker/insert.php?user_uid=".concat(f.a.currentUser.uid,"&restaurant_id=").concat(e)});case 2:"success"===(null===(t=n.sent)||void 0===t?void 0:t.message)?a():console.error(null===t||void 0===t?void 0:t.message);case 4:case"end":return n.stop()}}),n)})))).apply(this,arguments)}return r||s.a.createElement(U,null,s.a.createElement(L,{onClick:function(){return i.apply(this,arguments)}},s.a.createElement(d.a,{icon:g.q})," \u0e40\u0e1e\u0e34\u0e48\u0e21\u0e1e\u0e19\u0e31\u0e01\u0e07\u0e32\u0e19"),"success"===(null===t||void 0===t?void 0:t.message)?s.a.createElement(G,{reloader:a,data:t}):s.a.createElement(m.a,null))}},255:function(e,n,t){"use strict";var r=t(256),a={"text/plain":"Text","text/html":"Url",default:"Text"};e.exports=function(e,n){var t,o,c,i,u,s,l=!1;n||(n={}),t=n.debug||!1;try{if(c=r(),i=document.createRange(),u=document.getSelection(),(s=document.createElement("span")).textContent=e,s.style.all="unset",s.style.position="fixed",s.style.top=0,s.style.clip="rect(0, 0, 0, 0)",s.style.whiteSpace="pre",s.style.webkitUserSelect="text",s.style.MozUserSelect="text",s.style.msUserSelect="text",s.style.userSelect="text",s.addEventListener("copy",(function(r){if(r.stopPropagation(),n.format)if(r.preventDefault(),"undefined"===typeof r.clipboardData){t&&console.warn("unable to use e.clipboardData"),t&&console.warn("trying IE specific stuff"),window.clipboardData.clearData();var o=a[n.format]||a.default;window.clipboardData.setData(o,e)}else r.clipboardData.clearData(),r.clipboardData.setData(n.format,e);n.onCopy&&(r.preventDefault(),n.onCopy(r.clipboardData))})),document.body.appendChild(s),i.selectNodeContents(s),u.addRange(i),!document.execCommand("copy"))throw new Error("copy command was unsuccessful");l=!0}catch(d){t&&console.error("unable to copy using execCommand: ",d),t&&console.warn("trying IE specific stuff");try{window.clipboardData.setData(n.format||"text",e),n.onCopy&&n.onCopy(window.clipboardData),l=!0}catch(d){t&&console.error("unable to copy using clipboardData: ",d),t&&console.error("falling back to prompt"),o=function(e){var n=(/mac os x/i.test(navigator.userAgent)?"\u2318":"Ctrl")+"+C";return e.replace(/#{\s*key\s*}/g,n)}("message"in n?n.message:"Copy to clipboard: #{key}, Enter"),window.prompt(o,e)}}finally{u&&("function"==typeof u.removeRange?u.removeRange(i):u.removeAllRanges()),s&&document.body.removeChild(s),c()}return l}},256:function(e,n){e.exports=function(){var e=document.getSelection();if(!e.rangeCount)return function(){};for(var n=document.activeElement,t=[],r=0;r<e.rangeCount;r++)t.push(e.getRangeAt(r));switch(n.tagName.toUpperCase()){case"INPUT":case"TEXTAREA":n.blur();break;default:n=null}return e.removeAllRanges(),function(){"Caret"===e.type&&e.removeAllRanges(),e.rangeCount||t.forEach((function(n){e.addRange(n)})),n&&n.focus()}}}}]);
//# sourceMappingURL=12.733379a3.chunk.js.map